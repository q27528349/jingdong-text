{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\jingdong\\\\jingdong\\\\src\\\\Pubu\\\\index.js\";\nimport React, { Component } from 'react';\nimport { Pubu_warpper } from './style';\nimport axios from 'axios';\nlet tt = 0;\nlet lastget = 0;\nlet str = [];\n\nclass Pubu extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ultop: 952,\n      nb: 0,\n      str: [],\n      page: 0\n    };\n    this.ajaxPull = this.ajaxPull.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener('scroll', this.ajaxPull);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('scroll', this.ajaxPull);\n  }\n\n  ajaxPull() {\n    const height = window.innerHeight;\n    console.log(this.props.scroll);\n\n    if (this.props.scroll + height > this.props.clheight - 952) {\n      this.ajaxData();\n    }\n  }\n\n  ajaxData() {\n    let list = this.props.data;\n\n    for (let i = tt; i < (tt + 1) * 10; i++) {\n      if (list[i] != undefined) {\n        str.push(list[i]); // str.push(\n        //   <li className=\"more2_item\" key={list[i].text+i}>\n        //   <div className=\"img_text\">\n        //   <img className=\"img_pubu\" src={list[i].src}/>\n        //     <p className=\"txt_name\">{list[i].text}</p>          \n        //     </div>\n        // </li>)\n      }\n    }\n\n    this.setState({\n      str,\n      nb: Math.floor(lastget / 10) - 1,\n      page: list.length / 10\n    });\n  }\n\n  render() {\n    let top = Math.floor((this.props.scroll + this.props.clheight - this.state.ultop) / 150);\n    let list = this.state.str;\n    console.log(tt);\n    console.log(top);\n    return /*#__PURE__*/React.createElement(Pubu_warpper, {\n      ref: \"ul\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"floor\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"floor_hit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }\n    }, \"\\u4E3A\\u4F60\\u63A8\\u8350\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"grid_c1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"more2_list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }\n    }, list.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        className: \"more2_item\",\n        key: item.text,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 14\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"img_text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 14\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"img_pubu\",\n        src: item.src,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 16\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"txt_name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 16\n        }\n      }, item.text)));\n    }))));\n  }\n\n}\n\nexport default Pubu;","map":{"version":3,"sources":["C:/Users/Administrator/Desktop/jingdong/jingdong/src/Pubu/index.js"],"names":["React","Component","Pubu_warpper","axios","tt","lastget","str","Pubu","constructor","props","state","ultop","nb","page","ajaxPull","bind","componentDidMount","document","addEventListener","componentWillUnmount","removeEventListener","height","window","innerHeight","console","log","scroll","clheight","ajaxData","list","data","i","undefined","push","setState","Math","floor","length","render","top","map","item","index","text","src"],"mappings":"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","sourcesContent":["import React,{Component} from 'react'\r\nimport {Pubu_warpper} from './style'\r\nimport axios from 'axios'\r\nlet tt=0;\r\nlet lastget=0;\r\nlet str =[];\r\n\r\n\r\nclass Pubu extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state={\r\n      ultop:952,\r\n      nb:0,\r\n      str:[],\r\n      page:0\r\n    }\r\n    this.ajaxPull=this.ajaxPull.bind(this)\r\n  }\r\n  componentDidMount(){\r\n    document.addEventListener('scroll',this.ajaxPull)\r\n}\r\ncomponentWillUnmount(){\r\n    document.removeEventListener('scroll',this.ajaxPull);\r\n}\r\najaxPull(){\r\n  const height = window.innerHeight;\r\n  console.log(this.props.scroll)\r\n  if(this.props.scroll +height>this.props.clheight-952){\r\n      this.ajaxData();\r\n  }\r\n};\r\najaxData (){\r\n    let list =this.props.data; \r\n      for(let i=tt;i<(tt+1)*10;i++){\r\n        if(list[i]!=undefined){\r\n          str.push(list[i])\r\n        // str.push(\r\n        //   <li className=\"more2_item\" key={list[i].text+i}>\r\n        //   <div className=\"img_text\">\r\n        //   <img className=\"img_pubu\" src={list[i].src}/>\r\n        //     <p className=\"txt_name\">{list[i].text}</p>          \r\n        //     </div>\r\n        // </li>)\r\n        }\r\n      }\r\n    \r\n      this.setState({\r\n        str,\r\n        nb:Math.floor(lastget/10)-1,\r\n        page:list.length/10\r\n      })\r\n    \r\n  }\r\n\r\n  render(){\r\n    let top =Math.floor((this.props.scroll + this.props.clheight -this.state.ultop)/150);\r\n    let list = this.state.str;\r\n    console.log(tt)\r\n    console.log(top)\r\n\r\n       return(\r\n      <Pubu_warpper ref=\"ul\" >\r\n        <div className=\"floor\">\r\n          <h3 className=\"floor_hit\">\r\n            为你推荐\r\n          </h3>\r\n        </div>\r\n      <div className=\"grid_c1\">\r\n        <ul className=\"more2_list\" >\r\n         {\r\n          list.map((item,index)=>{\r\n            return(\r\n             <li className=\"more2_item\" key={item.text}>\r\n             <div className=\"img_text\">\r\n               <img className=\"img_pubu\" src={item.src}/>\r\n               <p className=\"txt_name\">{item.text}</p>\r\n             </div>\r\n           </li>\r\n            )\r\n          })\r\n         }\r\n         {\r\n           \r\n         }\r\n        </ul>\r\n      </div>\r\n      </Pubu_warpper>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Pubu;"]},"metadata":{},"sourceType":"module"}